(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoginScreen~31ecd969"],{1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),s=n("1d80"),o=n("4840"),l=n("8aa5"),u=n("50c4"),c=n("14c3"),d=n("9263"),g=n("d039"),p=[].push,h=Math.min,f=4294967295,m=!g((function(){return!RegExp(f,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),a=void 0===n?f:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var o,l,u,c=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,g+"g");while(o=d.call(m,r)){if(l=m.lastIndex,l>h&&(c.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&p.apply(c,o.slice(1)),u=o[0].length,h=l,c.length>=a))break;m.lastIndex===o.index&&m.lastIndex++}return h===r.length?!u&&m.test("")||c.push(""):c.push(r.slice(h)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var d=a(e),g=String(this),p=o(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),w=new p(m?d:"^(?:"+d.source+")",x),I=void 0===i?f:i>>>0;if(0===I)return[];if(0===g.length)return null===c(w,g)?[g]:[];var b=0,E=0,F=[];while(E<g.length){w.lastIndex=m?E:0;var S,_=c(w,m?g:g.slice(E));if(null===_||(S=h(u(w.lastIndex+(m?0:E)),g.length))===b)E=l(g,E,v);else{if(F.push(g.slice(b,E)),F.length===I)return F;for(var L=1;L<=_.length-1;L++)if(F.push(_[L]),F.length===I)return F;E=b=S}}return F.push(g.slice(b)),F}]}),!m)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"6c45":function(e,t,n){},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),a=n("1d80"),s=n("129f"),o=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this),u=a.lastIndex;s(u,0)||(a.lastIndex=0);var c=o(a,l);return s(a.lastIndex,u)||(a.lastIndex=u),null===c?-1:c.index}]}))},a526:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("transition",{attrs:{name:"slide-fade"}},[e.needsFillIn?n("app-modal",{staticClass:"text--danger",on:{close:function(t){e.needsFillIn=!e.needsFillIn}}},[e._v("Email and Password can't be empty")]):e._e()],1),e.error?n("app-modal",{staticClass:"text--danger text--center text--bold",on:{close:e.closeModalHandler}},[e._v(" "+e._s(e.error))]):e._e(),n("app-form",{attrs:{"form-data":e.formData,value:e.loginForm},on:{onInput:function(t){return e.inputHandler(t,"loginForm")}}},[n("m-button",{staticClass:"mt-1 form--btn",on:{clicked:e.loginHandler}},[e.isLoggingIn?n("span",[e._v("Logging In...")]):n("span",[e._v("LOGIN")])]),n("div",{staticClass:"signup--link mt-1"},[n("p",[n("span",[e._v(" Not a member? ")]),n("span",[n("router-link",{staticClass:"link",attrs:{to:"/signup"}},[e._v("Sign up now")])],1)])])],1)],1)},i=[],a=(n("ac1f"),n("841c"),n("1276"),n("96cf"),n("1da1")),s=n("6add"),o=n("8bd7"),l=n("0178"),u=n("1a86"),c={name:"LoginScreen",mixins:[u["a"]],data:function(){return{formData:[{label:"Email",placeholder:"Enter your email",type:"text"},{label:"Password",placeholder:"Enter your password",type:"password"}],loginForm:{email:"",password:""},store:null,error:"",needsFillIn:!1,isLoggingIn:!1}},components:{AppForm:s["a"],mButton:o["a"],AppModal:l["a"]},created:function(){this.store=this.$store,this.getUserEmail()},methods:{loginHandler:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoggingIn=!0,""!==e.loginForm.email&&""!==e.loginForm.password){t.next=4;break}return e.isLoggingIn=!1,t.abrupt("return",e.needsFillIn=!0);case 4:return n={email:e.loginForm.email,password:e.loginForm.password},t.next=7,e.store.dispatch("USER_LOGIN",n);case 7:return t.next=9,e.store.dispatch("GET_CART_ITEMS");case 9:r=window.location.search.split("=")[1],e.store.getters.getStatus&&"cart"===r?(e.isLoggingIn=!1,e.$router.push({path:r})):e.store.getters.getStatus&&r?(e.isLoggingIn=!1,e.$router.push({path:"/product/".concat(r)})):(e.isLoggingIn=!1,e.$router.push({path:"/"}));case 11:case"end":return t.stop()}}),t)})))()},getUserEmail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("email"));case 2:n=t.sent,n&&(e.loginForm.email=n);case 4:case"end":return t.stop()}}),t)})))()},closeModalHandler:function(){this.error=!this.error}}},d=c,g=(n("f331"),n("2877")),p=Object(g["a"])(d,r,i,!1,null,"351d54a9",null);t["default"]=p.exports},f331:function(e,t,n){"use strict";n("6c45")}}]);