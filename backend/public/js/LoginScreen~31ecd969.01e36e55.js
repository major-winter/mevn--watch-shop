(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoginScreen~31ecd969"],{1276:function(e,n,t){"use strict";var r=t("d784"),i=t("44e7"),a=t("825a"),s=t("1d80"),o=t("4840"),l=t("8aa5"),u=t("50c4"),c=t("14c3"),d=t("9263"),g=t("d039"),p=[].push,h=Math.min,f=4294967295,m=!g((function(){return!RegExp(f,"y")}));r("split",2,(function(e,n,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(s(this)),a=void 0===t?f:t>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return n.call(r,e,a);var o,l,u,c=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,g+"g");while(o=d.call(m,r)){if(l=m.lastIndex,l>h&&(c.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&p.apply(c,o.slice(1)),u=o[0].length,h=l,c.length>=a))break;m.lastIndex===o.index&&m.lastIndex++}return h===r.length?!u&&m.test("")||c.push(""):c.push(r.slice(h)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,t){var i=s(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,t):r.call(String(i),n,t)},function(e,i){var s=t(r,e,this,i,r!==n);if(s.done)return s.value;var d=a(e),g=String(this),p=o(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),b=new p(m?d:"^(?:"+d.source+")",x),w=void 0===i?f:i>>>0;if(0===w)return[];if(0===g.length)return null===c(b,g)?[g]:[];var I=0,E=0,F=[];while(E<g.length){b.lastIndex=m?E:0;var S,_=c(b,m?g:g.slice(E));if(null===_||(S=h(u(b.lastIndex+(m?0:E)),g.length))===I)E=l(g,E,v);else{if(F.push(g.slice(I,E)),F.length===w)return F;for(var L=1;L<=_.length-1;L++)if(F.push(_[L]),F.length===w)return F;E=I=S}}return F.push(g.slice(I)),F}]}),!m)},"129f":function(e,n){e.exports=Object.is||function(e,n){return e===n?0!==e||1/e===1/n:e!=e&&n!=n}},"33b2":function(e,n,t){},"841c":function(e,n,t){"use strict";var r=t("d784"),i=t("825a"),a=t("1d80"),s=t("129f"),o=t("14c3");r("search",1,(function(e,n,t){return[function(n){var t=a(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,t):new RegExp(n)[e](String(t))},function(e){var r=t(n,e,this);if(r.done)return r.value;var a=i(e),l=String(this),u=a.lastIndex;s(u,0)||(a.lastIndex=0);var c=o(a,l);return s(a.lastIndex,u)||(a.lastIndex=u),null===c?-1:c.index}]}))},a526:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login"},[t("transition",{attrs:{name:"slide-fade"}},[e.needsFillIn?t("app-modal",{staticClass:"text--danger",on:{close:function(n){e.needsFillIn=!e.needsFillIn}}},[e._v("Email and Password can't be empty")]):e._e()],1),e.error?t("app-modal",{staticClass:"text--danger text--center text--bold",on:{close:e.closeModalHandler}},[e._v(" "+e._s(e.error))]):e._e(),t("app-form",{attrs:{"form-data":e.formData,value:e.loginForm},on:{onInput:function(n){return e.inputHandler(n,"loginForm")}}},[t("m-button",{staticClass:"mt-1 form--btn",on:{clicked:e.loginHandler}},[e.isLoggingIn?t("span",[e._v("Logging In...")]):t("span",[e._v("LOGIN")])]),t("div",{staticClass:"signup--link mt-1"},[t("p",[t("span",[e._v(" Not a member? ")]),t("span",[t("router-link",{staticClass:"link",attrs:{to:"/signup"}},[e._v("Sign up now")])],1)])])],1)],1)},i=[],a=(t("d3b7"),t("ac1f"),t("841c"),t("1276"),t("96cf"),t("1da1")),s=t("6add"),o=t("8bd7"),l=t("1a86"),u=function(){return Promise.resolve().then(t.bind(null,"0178"))},c={name:"LoginScreen",mixins:[l["a"]],data:function(){return{formData:[{label:"Email",placeholder:"Enter your email",type:"text"},{label:"Password",placeholder:"Enter your password",type:"password"}],loginForm:{email:"",password:""},store:null,error:"",needsFillIn:!1,isLoggingIn:!1}},components:{AppForm:s["a"],mButton:o["a"],AppModal:u},created:function(){this.store=this.$store,this.getUserEmail()},methods:{loginHandler:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.isLoggingIn=!0,""!==e.loginForm.email&&""!==e.loginForm.password){n.next=4;break}return e.isLoggingIn=!1,n.abrupt("return",e.needsFillIn=!0);case 4:return t={email:e.loginForm.email,password:e.loginForm.password},n.next=7,e.store.dispatch("USER_LOGIN",t);case 7:return n.next=9,e.store.dispatch("GET_CART_ITEMS");case 9:r=window.location.search.split("=")[1],!e.store.getters.getStatus||"cart"!==r&&"profile"!==r?e.store.getters.getStatus&&r?(e.isLoggingIn=!1,e.$router.push({path:"/product/".concat(r)})):(e.isLoggingIn=!1,e.$router.push({path:"/"})):(e.isLoggingIn=!1,e.$router.push({path:r}));case 11:case"end":return n.stop()}}),n)})))()},getUserEmail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,JSON.parse(localStorage.getItem("email"));case 2:t=n.sent,t&&(e.loginForm.email=t);case 4:case"end":return n.stop()}}),n)})))()},closeModalHandler:function(){this.error=!this.error}}},d=c,g=(t("b94d"),t("2877")),p=Object(g["a"])(d,r,i,!1,null,"ee63e7e8",null);n["default"]=p.exports},b94d:function(e,n,t){"use strict";t("33b2")}}]);