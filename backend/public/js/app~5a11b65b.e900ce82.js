(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~5a11b65b"],{"1a86":function(e,n,t){"use strict";t("b0c0"),t("96cf");var r=t("1da1");n["a"]={created:function(){this.$store.getters.isLoggedIn,this.checkLogInStatus()},methods:{qtySelected:function(e){this.qty=e},inputHandler:function(e,n){switch(e.name){case"name":this.signupForm.username=e.value;break;case"email":"signupForm"===n&&(this.signupForm.email=e.value),"loginForm"===n&&(this.loginForm.email=e.value);break;case"password":"signupForm"===n&&(this.signupForm.password=e.value),"loginForm"===n&&(this.loginForm.password=e.value);break;case"address":this.signupForm.address=e.value;break;default:break}},checkLogInStatus:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("INIT_AUTH");case 2:t=n.sent,r=t.logout,r&&(e.isLoggedOut=!0,e.$store.dispatch("USER_LOGOUT"));case 5:case"end":return n.stop()}}),n)})))()}}}},"641b":function(e,n,t){"use strict";t("b0c0"),t("d3b7");var r=t("8c4f"),a=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("HomeScreen~31ecd969"),t.e("HomeScreen~4dbb7353")]).then(t.bind(null,"7079"))},c=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("ProductScreen~a0cae88c")]).then(t.bind(null,"8deb"))},o=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("CartScreen~987e6011"),t.e("CartScreen~a0cae88c")]).then(t.bind(null,"c9b9"))},u=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("LoginScreen~31ecd969")]).then(t.bind(null,"a526"))},s=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("SignupScreen~7bd360ba")]).then(t.bind(null,"438b"))},i=function(){return t.e("NotFoundScreen~1fd41ede").then(t.bind(null,"2e36"))},m=function(){return t.e("ProfileScreen~332be425").then(t.bind(null,"0144"))},l=function(){return t.e("ContactScreen~44e79530").then(t.bind(null,"c379"))},p=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("ShippingInfoScreen~2a8d0689")]).then(t.bind(null,"cf61"))},h=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("PaymentScreen~c8342749")]).then(t.bind(null,"6f9e"))},d=function(){return Promise.all([t.e("hehe~31ecd969"),t.e("ReviewOrderScreen~bbfe7741")]).then(t.bind(null,"66d2"))},f=new r["a"]({mode:"history",routes:[{path:"/",name:"homeScreen",component:a},{path:"/product/:id?",name:"productScreen",component:c},{path:"/cart",name:"cartScreen",component:o,meta:{isAuth:!1}},{path:"/login",name:"loginScreen",component:u},{path:"/signup",name:"signUpScreen",component:s},{path:"/profile",name:"profileScreen",component:m,meta:{isAuth:!1}},{path:"/contact",name:"contactScreen",component:l},{path:"/shipping",name:"shippingInfoScreen",component:p,meta:{isAuth:!1}},{path:"/payment",name:"paymentScreen",component:h,meta:{isAuth:!1}},{path:"/order",name:"reviewOrderScreen",component:d,meta:{isAuth:!1}},{path:"*",name:"notFoundScreen",component:i}]});f.beforeEach((function(e,n,t){var r=JSON.parse(localStorage.getItem("token"));"cartScreen"!==e.name&&"profileScreen"!==e.name||(r?t():t({name:"loginScreen",query:{redirect:"cart"}})),"loginScreen"===e.name&&r?t({path:"/"}):t()})),f.afterEach((function(){window.scrollTo(0,0)})),n["a"]=f},c7d4:function(e,n,t){"use strict";var r=t("5530"),a=(t("96cf"),t("1da1")),c=t("bc3a"),o=t.n(c),u=t("3c02"),s=function(){return{status:"",userName:JSON.parse(localStorage.getItem("userName"))||"",token:JSON.parse(localStorage.getItem("token"))||"",showModal:!1}},i={isLoggedIn:function(e){return!!e.token&&(e.status="authenticated",!0)},getStatus:function(e){return e.status},getUserName:function(e){return e.userName},getShowModal:function(e){return e.showModal}},m={SIGN_UP:function(e,n){e.status="authenticated",e.userName=n.username},SET_USER:function(e,n){e.status="authenticated",e.userName=n.username},REMOVE_TOKEN:function(e){e.status=""},SHOW_MODAL:function(e,n){e.showModal=n}},l={SIGN_UP:function(e,n){return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,a,c,s,i,m,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,o.a.post("/api/users",n);case 4:return a=t.sent,c=a.data,s=c.token,i=c.user,m=c.cartId,l=void 0===m?1:m,p=i.username,t.next=10,Object(u["b"])([{token:s},{user:i},{userName:p},{cartId:l}]);case 10:return r("SIGN_UP",i),t.abrupt("return",{result:c});case 14:return t.prev=14,t.t0=t["catch"](1),t.abrupt("return",{result:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()},USER_LOGIN:function(e,n){return Object(a["a"])(regeneratorRuntime.mark((function t(){var a,c,s,i,m,l,p,h,d,f,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,o.a.post("/api/users/login",Object(r["a"])({},n));case 4:return c=t.sent,s=c.data,i=s.token,m=s.user,l=s.cartId,p=void 0===l?1:l,h=m.username,d=m.email,f=Date.now(),t.next=12,Object(u["b"])([{token:i},{user:m},{userName:h},{cartId:p},{start:f},{email:d}]);case 12:a("SET_USER",m),t.next=19;break;case 15:return t.prev=15,t.t0=t["catch"](1),g=t.t0.response.data,t.abrupt("return",g.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},USER_LOGOUT:function(e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,Object(u["a"])(["token","user","cart","cartId","userName","start","checkoutForm"]);case 3:t("REMOVE_TOKEN");case 4:case"end":return n.stop()}}),n)})))()},INIT_AUTH:function(e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,JSON.parse(localStorage.getItem("start"));case 3:if(r=n.sent,a=Date.now(),c=Math.floor((a-r)/1e3),!(c>3600&&r)){n.next=9;break}return t("SHOW_MODAL",!0),n.abrupt("return",{logout:!0});case 9:return n.abrupt("return",{logout:!1});case 10:case"end":return n.stop()}}),n)})))()}};n["a"]={state:s,getters:i,mutations:m,actions:l}}}]);