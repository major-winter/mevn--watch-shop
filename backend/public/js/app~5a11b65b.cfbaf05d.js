(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~5a11b65b"],{"1a86":function(e,t,n){"use strict";n("b0c0"),n("96cf");var r=n("1da1");t["a"]={created:function(){this.$store.getters.isLoggedIn,this.checkLogInStatus()},methods:{qtySelected:function(e){this.qty=e},inputHandler:function(e,t){switch(e.name){case"name":this.signupForm.username=e.value;break;case"email":"signupForm"===t&&(this.signupForm.email=e.value),"loginForm"===t&&(this.loginForm.email=e.value);break;case"password":"signupForm"===t&&(this.signupForm.password=e.value),"loginForm"===t&&(this.loginForm.password=e.value);break;case"address":this.signupForm.address=e.value;break;default:break}},checkLogInStatus:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("INIT_AUTH");case 2:n=t.sent,r=n.logout,r&&(e.isLoggedOut=!0,e.$store.dispatch("USER_LOGOUT"));case 5:case"end":return t.stop()}}),t)})))()}}}},"641b":function(e,t,n){"use strict";n("b0c0"),n("d3b7");var r=n("8c4f"),a=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("HomeScreen~80a7b428")]).then(n.bind(null,"7079"))},c=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("ProductScreen~a0cae88c")]).then(n.bind(null,"8deb"))},o=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("CartScreen~987e6011"),n.e("CartScreen~a0cae88c")]).then(n.bind(null,"c9b9"))},u=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("LoginScreen~31ecd969")]).then(n.bind(null,"a526"))},s=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("SignupScreen~7bd360ba")]).then(n.bind(null,"438b"))},i=function(){return n.e("NotFoundScreen~1fd41ede").then(n.bind(null,"2e36"))},m=function(){return n.e("ProfileScreen~332be425").then(n.bind(null,"0144"))},l=function(){return n.e("ContactScreen~44e79530").then(n.bind(null,"c379"))},p=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("ShippingInfoScreen~2a8d0689")]).then(n.bind(null,"cf61"))},h=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("PaymentScreen~c8342749")]).then(n.bind(null,"6f9e"))},d=function(){return Promise.all([n.e("hehe~31ecd969"),n.e("ReviewOrderScreen~bbfe7741")]).then(n.bind(null,"66d2"))},f=new r["a"]({mode:"history",routes:[{path:"/",name:"homeScreen",component:a},{path:"/product/:id?",name:"productScreen",component:c},{path:"/cart",name:"cartScreen",component:o,meta:{isAuth:!1}},{path:"/login",name:"loginScreen",component:u},{path:"/signup",name:"signUpScreen",component:s},{path:"/profile",name:"profileScreen",component:m,meta:{isAuth:!1}},{path:"/contact",name:"contactScreen",component:l},{path:"/shipping",name:"shippingInfoScreen",component:p,meta:{isAuth:!1}},{path:"/payment",name:"paymentScreen",component:h,meta:{isAuth:!1}},{path:"/order",name:"reviewOrderScreen",component:d,meta:{isAuth:!1}},{path:"*",name:"notFoundScreen",component:i}]});f.beforeEach((function(e,t,n){var r=JSON.parse(localStorage.getItem("token"));"cartScreen"!==e.name&&"profileScreen"!==e.name||(r?n():n({name:"loginScreen",query:{redirect:"cart"}})),"loginScreen"===e.name&&r?n({path:"/"}):n()})),f.afterEach((function(){window.scrollTo(0,0)})),t["a"]=f},c7d4:function(e,t,n){"use strict";var r=n("5530"),a=(n("96cf"),n("1da1")),c=n("bc3a"),o=n.n(c),u=n("3c02"),s=function(){return{status:"",userName:JSON.parse(localStorage.getItem("userName"))||"",token:JSON.parse(localStorage.getItem("token"))||"",showModal:!1}},i={isLoggedIn:function(e){return!!e.token&&(e.status="authenticated",!0)},getStatus:function(e){return e.status},getUserName:function(e){return e.userName},getShowModal:function(e){return e.showModal}},m={SIGN_UP:function(e,t){e.status="authenticated",e.userName=t.username},SET_USER:function(e,t){e.status="authenticated",e.userName=t.username},REMOVE_TOKEN:function(e){e.status=""},SHOW_MODAL:function(e,t){e.showModal=t}},l={SIGN_UP:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,c,s,i,m,l,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,o.a.post("/api/users",t);case 4:return a=n.sent,c=a.data,s=c.token,i=c.user,m=c.cartId,l=void 0===m?1:m,p=i.username,n.next=10,Object(u["b"])([{token:s},{user:i},{userName:p},{cartId:l}]);case 10:return r("SIGN_UP",i),n.abrupt("return",{result:c});case 14:return n.prev=14,n.t0=n["catch"](1),n.abrupt("return",{result:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[1,14]])})))()},USER_LOGIN:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,c,s,i,m,l,p,h,d,f,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,n.next=4,o.a.post("/api/users/login",Object(r["a"])({},t));case 4:return c=n.sent,s=c.data,i=s.token,m=s.user,l=s.cartId,p=void 0===l?1:l,h=m.username,d=m.email,f=Date.now(),n.next=12,Object(u["b"])([{token:i},{user:m},{userName:h},{cartId:p},{start:f},{email:d}]);case 12:a("SET_USER",m),n.next=19;break;case 15:return n.prev=15,n.t0=n["catch"](1),g=n.t0.response.data,n.abrupt("return",g.message);case 19:case"end":return n.stop()}}),n,null,[[1,15]])})))()},USER_LOGOUT:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(u["a"])(["token","user","cart","cartId","userName","start","checkoutForm"]);case 3:n("REMOVE_TOKEN");case 4:case"end":return t.stop()}}),t)})))()},INIT_AUTH:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,JSON.parse(localStorage.getItem("start"));case 3:if(r=t.sent,a=Date.now(),c=Math.floor((a-r)/1e3),!(c>3600&&r)){t.next=9;break}return n("SHOW_MODAL",!0),t.abrupt("return",{logout:!0});case 9:return t.abrupt("return",{logout:!1});case 10:case"end":return t.stop()}}),t)})))()}};t["a"]={state:s,getters:i,mutations:m,actions:l}}}]);